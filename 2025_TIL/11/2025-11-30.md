# TIL Template
날짜: 2025-11-30

## 스크럼
- 학습 목표 1 : DistilBERT 최적화 전략 적용 및 블로그 업로드하기.
- 학습 목표 2 : DiT(Diffusion Transformer)기반 영상생성 모델 공부하기.


## 새로 배운 내용
### 주제 1: DistilBERT 최적화 전략 적용 및 블로그 업로드하기.
- **ONNX ~ OpenVINO 테스트 결과**:

    ====== 성능 비교 결과 (평균 per inference) ======
    1) ORT + CPU EP           : 204.993 ms
    2) ORT + OpenVINO EP      : 222.213 ms
    3) OpenVINO Runtime (IR)  : 279.617 ms
    =====================================
    > 예상과는 다르게 OpenVINO를 추가하였더니 더 느려졌다. 

    ========== Colab CPU 환경 출력  ===========
    Architecture:                x86_64
    CPU op-mode(s):            32-bit, 64-bit
    Address sizes:             46 bits physical, 48 bits virtual
    Byte Order:                Little Endian
    CPU(s):                      2
    On-line CPU(s) list:       0,1
    Vendor ID:                   GenuineIntel
    Model name:                Intel(R) Xeon(R) CPU @ 2.20GHz
    =====================================
    > Intel 환경은 맞으나, OpenVINO로 최적화 하긴 어려운 CPU이다.

    -> local에서 OpenVINO를 테스트하는 과정이 필수적이다.

- **local 환경 테스트 결과**:
    - local 환경: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz

    <img width="434" height="112" alt="image" src="https://github.com/user-attachments/assets/20a8c491-8455-47e2-93a1-adcb7442ec16" />

    > local 환경에서는 ORT보다 OpenVINO를 단독으로 사용했을때 10%정도 더 속도가 최적화 되었다.

    | 최적화 기술                      | 필요한 CPU 기능     |
    | --------------------------- | -------------- |
    | VNNI                        | AVX512-VNNI    |
    | BF16 최적화                    | AVX512-BF16    |
    | Low-precision fusion        | AVX512         |
    | 8-bit kernel accel          | DL Boost       |
    | Thread-pinning optimization | 고성능 코어(P-core) |

    > ONNX Runtime까지만 적용 후 int8로 성능을 더 안정화 진행 예정.

- **ONNX + int8양자화**:

| 항목               | PyTorch FP32 | ONNX FP32     | ONNX INT8           |
| ---------------- | ------------ | ------------- | ------------------- |
| **추론 속도**        | 371.9ms      | 213.3ms       | **178.9ms (가장 빠름)** |
| **모델 용량**        | 516.26MB     | **0.66MB(?)** | 129.84MB            |
| **정확도(AE)**      | 기준           | 0.0000        | 0.3177              |
| **Argmax 동일 비율** | 기준           | **10/10**     | 7/10                |



### 주제 2: DiT(Diffusion Transformer)기반 영상생성 모델 공부하기.
-


## 오늘의 도전 과제와 해결 방법
-


## 오늘의 회고
- 
- 


## 참고 자료 및 링크
